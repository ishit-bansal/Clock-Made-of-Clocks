@import "https://unpkg.com/open-props/easings.min.css";

* { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --bg: #e0e5ec;
  --shadow-dark: #b8bec7;
  --shadow-light: #fff;
  --hand: #2d3436;
}

[data-theme="dark"] {
  --bg: #0d0d0d;
  --shadow-dark: #000;
  --shadow-light: #1a1a1a;
  --hand: #e0e5ec;
}

body {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg);
  transition: background 0.4s;
}

#display { display: flex; gap: 2vw; }
.pair { display: flex; gap: 0.5vw; }
.digit { display: grid; grid-template: repeat(6,1fr)/repeat(4,1fr); gap: 0.3vw; }

.clock {
  width: 3vw;
  height: 3vw;
  background: var(--bg);
  border-radius: 50%;
  position: relative;
  box-shadow: 0.4vw 0.4vw 0.8vw var(--shadow-dark), -0.4vw -0.4vw 0.8vw var(--shadow-light);
  transition: 0.4s;
}

.hand {
  position: absolute;
  top: calc(50% - 1px);
  left: 50%;
  width: 45%;
  height: 2px;
  background: var(--hand);
  border-radius: 9999px;
  transform-origin: 0 50%;
  transition: transform 0.4s ease-in-out, background 0.4s;
  z-index: 1;
}

/* Theme toggle */
.theme-toggle {
  position: fixed;
  top: 20px;
  right: 20px;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: var(--bg);
  color: var(--hand);
  border: none;
  cursor: pointer;
  box-shadow: 4px 4px 8px var(--shadow-dark), -4px -4px 8px var(--shadow-light);
  transition: 0.4s;
}
.theme-toggle:hover { transform: scale(1.05); }
.theme-toggle svg { display: block; margin: auto; }

.sun-and-moon > * { transform-origin: center; }
.sun-and-moon > .sun { fill: currentColor; }
.sun-and-moon > .sun-beams { stroke: currentColor; stroke-width: 2px; }

[data-theme="dark"] .sun-and-moon > .sun { transform: scale(1.75); }
[data-theme="dark"] .sun-and-moon > .sun-beams { opacity: 0; }
[data-theme="dark"] .sun-and-moon > .moon > circle { transform: translateX(-7px); }

@supports (cx: 1) {
  [data-theme="dark"] .sun-and-moon > .moon > circle { cx: 17; transform: none; }
}

@media (prefers-reduced-motion: no-preference) {
  .sun-and-moon > .sun { transition: transform .5s var(--ease-elastic-3); }
  .sun-and-moon > .sun-beams { transition: transform .5s var(--ease-elastic-4), opacity .5s var(--ease-3); }
  .sun-and-moon .moon > circle { transition: transform .25s var(--ease-out-5); }
  @supports (cx: 1) { .sun-and-moon .moon > circle { transition: cx .25s var(--ease-out-5); } }
  [data-theme="dark"] .sun-and-moon > .sun { transition: transform .25s var(--ease-3); }
  [data-theme="dark"] .sun-and-moon > .sun-beams { transition-duration: .15s; transform: rotate(-25deg); }
  [data-theme="dark"] .sun-and-moon > .moon > circle { transition-duration: .5s; transition-delay: .25s; }
}
